---
title: "ãƒãƒ“èªå¤‰æ›ã‚µã‚¤ãƒˆ"
path: blog/babigo-translator
tags: [python, html, css, django]
date: 2021-03-17
emoji: "ğŸ”„"
excerpt: å…¥åŠ›ã•ã‚ŒãŸæ–‡ç« ã‚’ãƒãƒ“èªã«å¤‰æ›ã™ã‚‹ã‚µã‚¤ãƒˆã‚’ä½œã£ãŸæ™‚ã®è©±ã€‚
---

## æ¦‚è¦

---

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å…¥åŠ›ã•ã‚ŒãŸæ—¥æœ¬èªæ–‡ç« ã‚’gooãƒ©ãƒœã®ã²ã‚‰ãŒãªåŒ–APIã«ã‚ˆã£ã¦ã²ã‚‰ãŒãªæ–‡ç« åŒ–ã—ã€ãã‚Œã‚’ãƒãƒ“èªã«å¤‰æ›ã—ã¾ã™ã€‚ã‚‚ã¨ã‚‚ã¨ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ä¸Šã§Pythonãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè¡Œã—ã¦éŠã¶ã ã‘ã®ã‚‚ã®ã ã£ãŸã®ã§ã™ãŒã€ã›ã£ã‹ããªã®ã§Djangoã‚’ä½¿ã£ã¦ãƒãƒ“èªå¤‰æ›ã‚µã‚¤ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸã€‚

[Visit the site](https://aspected-helios.herokuapp.com/peacock/babigo/)

## ä½¿ç”¨æŠ€è¡“

---

- Python: 3.6.9
- Django: 3.1.3

<br>

ãã®ä»–ã¯ä»¥ä¸‹ã®StackShareã‹ã‚‰ç¢ºèªã§ãã¾ã™ã€‚<br>

- [StackShare](https://stackshare.io/zaw/babigo)

<h2 id="babigo">ãƒãƒ“èªã¨ã¯ï¼Ÿ</h2>

---

ç°¡å˜ã«èª¬æ˜ã™ã‚‹ã¨ã€ã‚‚ã¨ã¨ãªã‚‹æ–‡ç« ã®æ–‡å­—ã®é–“ã«ã€Œãƒãƒ“ãƒ–ãƒ™ãƒœã€ã‚’æŒ¿å…¥ã—ãŸã‚‚ã®ã§ã™ã€‚æŒ¿å…¥ã«ã¯ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚Šã€å¯¾è±¡ã¨ãªã‚‹æ–‡å­—ãŒã‚¢æ®µãªã‚‰ãã®å¾Œã‚ã«ãƒã‚’æŒ¿å…¥ã€ã‚¤æ®µãªã‚‰ãƒ“ã€ã‚¦æ®µãªã‚‰ãƒ–ã€ã‚¨æ®µãªã‚‰ãƒ™ã€ã‚ªæ®µãªã‚‰ãƒœã‚’æŒ¿å…¥ã—ã¾ã™ã€‚

ä¾‹ï¼‰ã³ã‚ã“ã€€ â†’ ã€€ã³ã³ã‚ã°ã“ã¼

## ã²ã‚‰ãŒãªåŒ–API vs Pykakasi

---

### ãƒãƒ“èªã¸å¤‰æ›ã™ã‚‹éš›ã®èª²é¡Œ

æ—¥æœ¬èªæ–‡ç« ã‚’ãƒãƒ“èªã¸å¤‰æ›ã™ã‚‹éš›ã¯ã²ã¨ã¤ã²ã¨ã¤ã®æ–‡å­—ã«å¯¾ã—ã¦ã€å¯¾è±¡ã¨ãªã‚‹æ–‡å­—ãŒã‚ï½ãŠæ®µã®ã©ã‚Œã«å±ã—ã¦ã„ã‚‹ã®ã‹åˆ¤åˆ¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å…¥åŠ›ã•ã‚ŒãŸæ–‡ç« ã«æ¼¢å­—ãŒå«ã¾ã‚Œã‚‹å ´åˆã¯ã™ã¹ã¦å¹³ä»®åã«ç½®ãæ›ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã€ä»Šå›ã¯ã“ã®èª²é¡Œã‚’è§£æ±ºã™ã‚‹æ–¹æ³•ã¨ã—ã¦gooãƒ©ãƒœã®ã²ã‚‰ãŒãªåŒ–APIã¨Pythonã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹PykakasiãŒå€™è£œã«ä¸ŠãŒã‚Šã¾ã—ãŸã€‚

### çµå±€ã©ã£ã¡ï¼Ÿ

æ­£ç›´ãªã¨ã“ã‚ã€ã²ã‚‰ãŒãªåŒ–APIã¨Pykakasiã®æ€§èƒ½å·®ã¯ã»ã¼ãªã„ã§ã™ã€‚ã²ã‚‰ãŒãªåŒ–ã®ç²¾åº¦ã®ç‰¹å¾´ã‚’ã¾ã¨ã‚ã‚‹ã¨ã€ã©ã¡ã‚‰ã‚‚æ™®é€šã®æ–‡ç« ãªã‚‰å•é¡Œãªãå¹³ä»®ååŒ–ã§ãã¾ã™ãŒã€äººåã‚„æ˜ ç”»ã‚„ãƒ‰ãƒ©ãƒã®ã‚¿ã‚¤ãƒˆãƒ«ã¨ã„ã£ãŸå›ºæœ‰åè©ã®å¹³ä»®ååŒ–ã¯ã‹ãªã‚Šè‹¦æ‰‹ã§ã™ã€‚ãŸã ã€åœ°åã«é–¢ã—ã¦ã¯Pykakasiã‚ˆã‚Šã²ã‚‰ãŒãªåŒ–APIã®æ–¹ãŒè‹¥å¹²å„ªç§€ã ã£ãŸã®ã§ä»Šå›ã¯ã²ã‚‰ãŒãªåŒ–APIã‚’æ¡ç”¨ã—ã¾ã—ãŸã€‚

ä¸€å¿œã€ãƒãƒ“èªå¤‰æ›å™¨ã¯ã²ã‚‰ãŒãªåŒ–APIã¨Pykakasiã®2ãƒ‘ã‚¿ãƒ¼ãƒ³ä½œæˆã—ã¦ã‚ã‚‹ã®ã§ã€è¦‹ãŸã„æ–¹ã¯[ã“ã¡ã‚‰](https://github.com/zoniha/babigo/blob/main/converter/hiragana_converter.py)ã‹ã‚‰è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## ãƒãƒ“èªã¸ã®å¤‰æ›

---

ä»¥ä¸‹ãŒãƒãƒ“èªå¤‰æ›ã®ã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™ã€‚

```Python
def babi_converter(hiragana: str) -> str:
    result = ''
    length = len(hiragana) - 1

    for idx, letter in enumerate(hiragana):
        next_letter = hiragana[idx+1:idx+2]

        if (next_letter in 'ããƒã…ã‡ã‰ã‚ƒã‚…ã‚‡') & (idx < length):
            pass
        elif letter in 'ã‚ã‹ãŒã•ã–ãŸã ãªã¯ã°ã±ã¾ã‚„ã‚‰ã‚ã‚':
            result += (letter + 'ã°')
        elif letter in 'ã„ããã—ã˜ã¡ã¢ã«ã²ã³ã´ã¿ã‚Š':
            result += (letter + 'ã³')
        elif letter in 'ã†ã‚”ããã™ãšã¤ã¥ã¬ãµã¶ã·ã‚€ã‚†ã‚‹ã‚“':
            result += (letter + 'ã¶')
        elif letter in 'ãˆã‘ã’ã›ãœã¦ã§ã­ã¸ã¹ãºã‚ã‚Œ':
            result += (letter + 'ã¹')
        elif letter in 'ãŠã“ã”ããã¨ã©ã®ã»ã¼ã½ã‚‚ã‚ˆã‚ã‚’':
            result += (letter + 'ã¼')
        elif letter in 'ãã‚ƒ':
            result += (hiragana[idx-1:idx] + letter + 'ã°')
        elif letter in 'ãƒ':
            result += (hiragana[idx-1:idx] + letter + 'ã³')
        elif letter in 'ã…ã‚…':
            result += (hiragana[idx-1:idx] + letter + 'ã¶')
        elif letter in 'ã‡':
            result += (hiragana[idx-1:idx] + letter + 'ã¹')
        elif letter in 'ã‰ã‚‡':
            result += (hiragana[idx-1:idx] + letter + 'ã¼')
        elif (letter in 'ãƒ¼ã€œ') & (idx < length):
            result += (letter + result[-1])
        else:
            result += letter
    return result
```

å¹³ä»®ååŒ–ã•ã‚ŒãŸæ–‡ç« ã‚’å—ã‘å–ã‚Šã€ãã“ã‹ã‚‰ä¸€æ–‡å­—ãšã¤å–ã‚Šå‡ºã—ã€å‰å¾Œã®æ–‡å­—ã¨ã®é–¢ä¿‚ã‚’è¦‹ãªãŒã‚‰æ„šç›´ã«ãƒãƒ“ãƒ–ãƒ™ãƒœã‚’æŒ¿å…¥ã—ã¦ã„ã¾ã™ã€‚`elif`ãŒãŸãã•ã‚“ã§è¦‹ã«ãã„ã§ã™ãŒã€ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯ã¨ã¦ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§ã™ã€‚

## æœ€å¾Œã«

---

ä»Šå›ã¯ã¨ãã«è‹¦æˆ¦ã™ã‚‹ã“ã¨ã‚‚ãªãã‚µã‚¤ãƒˆã®ä½œæˆãŒã§ãã¾ã—ãŸã€‚æŒ™ã’ã‚‹ã¨ã™ã‚Œã°ã€ã²ã‚‰ãŒãªåŒ–APIã®ã‚¨ãƒ©ãƒ¼ã‚’é˜²ããŸã‚ã«æ–‡ç« ã‹ã‚‰æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã‚’é™¤å»ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ã«æ°—ã¥ã„ãŸã®ã§ã™ãŒã€ã“ã‚Œã¯`str.translate()`ã‚’ä½¿ãˆã°ç°¡å˜ã«è§£æ±ºã§ãã‚‹ã®ã§å•é¡Œã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚

æŠ€è¡“çš„ãªã“ã¨ä»¥å¤–ã®è©±ã‚’ã™ã‚‹ã¨ã€ä»Šå›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã‚‚ã¨ã‚‚ã¨ç§ãŒå°å­¦ç”Ÿæ™‚ä»£ã«å‹äººãŸã¡ã¨ã®é–“ã§æµè¡Œã£ãŸãƒ©ãƒªèªï¼ˆãƒãƒ“èªã®ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ç‰ˆï¼‰å¤‰æ›å™¨ã‚’ä½œæˆã—ã‚ˆã†ã¨ã—ã€ãƒãƒƒãƒˆã§èª¿ã¹ãŸã¨ã“ã‚ã€ã‚¢ã‚¤ãƒ‰ãƒ«ã‚„å¥³å„ªã•ã‚“ã®å½±éŸ¿ã‚‚ã‚ã‚Šã€ãƒãƒ“èªã®æ–¹ãŒãƒ¡ã‚¸ãƒ£ãƒ¼ã ã¨ã„ã†ã“ã¨ã§ãƒãƒ“èªã®å¤‰æ›å™¨ã‚’ä½œæˆã—ã¾ã—ãŸã€‚ãã„ã†ã„ã†æ„å‘³ã§ã¯ã€ä»Šã¾ã§ä½œæˆã—ãŸãƒ¢ãƒãŸã¡ã®ä¸­ã§ã¯ã‚ˆã‚Šå¤šãã®äººã«éœ€è¦ã®ã‚ã‚‹ãƒ¢ãƒã‚’ä½œã‚ŒãŸã®ã§ã¯ãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚ä»Šå›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯å‹‰å¼·ã®æˆæœã®ç™ºè¡¨ã¨ã„ã†é¢ã¯ãªãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä½¿ã£ã¦ã‚‚ã‚‰ã„ãŸã„ã¨ã„ã†ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã§ä½œæˆã«å‘ãåˆã£ãŸã®ã§ä½œæˆã—ã¦ã„ã¦æ¥½ã—ã‹ã£ãŸã§ã™ã€‚
